# Claude Code é«˜æ•ˆå¼€å‘æŒ‡å—

> ä»åŸç†è§’åº¦ç»“åˆå®è·µï¼Œå…¨é¢æŒæ¡ Claude Code çš„ä½¿ç”¨æŠ€å·§

---

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿå…¥é—¨

### å®‰è£…

```bash
npm install -g @anthropic-ai/claude-code
```

### ç¬¬ä¸€æ¬¡ä½¿ç”¨

```bash
cd your-project
claude
```

### æœ€å¸¸ç”¨çš„ 5 ä¸ªæ“ä½œ

```bash
# 1. ç†è§£é¡¹ç›®
> ç»™æˆ‘ä¸€ä¸ªè¿™ä¸ªé¡¹ç›®çš„æ¦‚è§ˆ

# 2. ä¿®æ”¹ä»£ç 
> ä¿®å¤ @src/api.ts ä¸­çš„ç±»å‹é”™è¯¯

# 3. è¿è¡Œå‘½ä»¤
> è¿è¡Œæµ‹è¯•å¹¶ä¿®å¤å¤±è´¥çš„ç”¨ä¾‹

# 4. æäº¤ä»£ç 
> åˆ›å»ºä¸€ä¸ª commitï¼Œæè¿°åˆšæ‰çš„æ”¹åŠ¨

# 5. æŸ¥çœ‹æˆæœ¬
> /cost
```

### è®°ä½è¿™ 3 ä¸ªå¿«æ·é”®

| å¿«æ·é”® | ç”¨é€” |
|--------|------|
| `Esc+Esc` | æ’¤é”€ä»£ç æ”¹åŠ¨ |
| `Ctrl+C` | å–æ¶ˆå½“å‰æ“ä½œ |
| `Shift+Tab` | åˆ‡æ¢æƒé™æ¨¡å¼ |

### æ–°æ‰‹æ¨èé…ç½®

åˆ›å»º `CLAUDE.md` åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼š

```markdown
# é¡¹ç›®ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ª [æè¿°]ï¼Œä½¿ç”¨ [æŠ€æœ¯æ ˆ]

# å¸¸ç”¨å‘½ä»¤
- npm run dev
- npm run test
```

---

## ğŸ“ åœºæ™¯ç´¢å¼•ï¼šæˆ‘æƒ³è¦...

| æˆ‘æƒ³è¦... | æŸ¥çœ‹ç« èŠ‚ |
|----------|---------|
| **å¿«é€Ÿä¸Šæ‰‹** | [5åˆ†é’Ÿå¿«é€Ÿå…¥é—¨](#-5-åˆ†é’Ÿå¿«é€Ÿå…¥é—¨) |
| **ç†è§£é™Œç”Ÿä»£ç åº“** | [è¿­ä»£å¼æ¢ç´¢](#73-è¿­ä»£å¼æ¢ç´¢) |
| **è®© Claude è®°ä½é¡¹ç›®çº¦å®š** | [å››å±‚å†…å­˜ä½“ç³»](#21-å››å±‚å†…å­˜ä½“ç³») |
| **å‡å°‘ Token æ¶ˆè€—** | [Token ä¼˜åŒ–ç­–ç•¥](#22-token-ä¼˜åŒ–ç­–ç•¥)ã€[æˆæœ¬ä¼˜åŒ–](#åäº”æˆæœ¬ä¼˜åŒ–ç­–ç•¥) |
| **è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ** | [Hooks è‡ªåŠ¨åŒ–](#ä¸‰hooks-è‡ªåŠ¨åŒ–) |
| **è¿æ¥ GitHub/æ•°æ®åº“** | [MCP Servers](#å››mcp-servers-æ‰©å±•èƒ½åŠ›) |
| **ä¿æŠ¤æ•æ„Ÿæ–‡ä»¶** | [æƒé™ç®¡ç†](#äº”æƒé™ç®¡ç†) |
| **å¤„ç†å¤æ‚ä»»åŠ¡** | [æç¤ºè¯æŠ€å·§](#ä¸ƒæç¤ºè¯æŠ€å·§)ã€[äººæœºåä½œ](#åå…«äººæœºåä½œå¿ƒæ™ºæ¨¡å‹) |
| **å›¢é˜Ÿä¸€èµ·ç”¨** | [å›¢é˜Ÿåä½œæ¨¡å¼](#åä¸ƒå›¢é˜Ÿåä½œæ¨¡å¼) |
| **Claude å‡ºé”™äº†** | [å¸¸è§é—®é¢˜ä¸ç–‘éš¾æ’è§£](#åå››å¸¸è§é—®é¢˜ä¸ç–‘éš¾æ’è§£) |
| **æ§åˆ¶æˆæœ¬** | [æˆæœ¬ä¼˜åŒ–ç­–ç•¥](#åäº”æˆæœ¬ä¼˜åŒ–ç­–ç•¥) |
| **ä¸ IDE é…åˆ** | [IDE ä¸å·¥å…·é“¾é›†æˆ](#åå…­ide-ä¸å·¥å…·é“¾é›†æˆ) |

---

## ç›®å½•

**åŸºç¡€ç¯‡**
1. [æ ¸å¿ƒå·¥ä½œåŸç†](#ä¸€æ ¸å¿ƒå·¥ä½œåŸç†)
2. [ä¸Šä¸‹æ–‡ç®¡ç†ä¸ Token ä¼˜åŒ–](#äºŒä¸Šä¸‹æ–‡ç®¡ç†ä¸-token-ä¼˜åŒ–)
3. [Hooks è‡ªåŠ¨åŒ–](#ä¸‰hooks-è‡ªåŠ¨åŒ–)
4. [MCP Servers æ‰©å±•èƒ½åŠ›](#å››mcp-servers-æ‰©å±•èƒ½åŠ›)
5. [æƒé™ç®¡ç†](#äº”æƒé™ç®¡ç†)

**å®è·µç¯‡**
6. [é«˜æ•ˆäº¤äº’æŠ€å·§](#å…­é«˜æ•ˆäº¤äº’æŠ€å·§)
7. [æç¤ºè¯æŠ€å·§](#ä¸ƒæç¤ºè¯æŠ€å·§)
8. [å®æˆ˜å·¥ä½œæµ](#å…«å®æˆ˜å·¥ä½œæµ)
9. [é…ç½®ç¤ºä¾‹](#ä¹é…ç½®ç¤ºä¾‹)

**è¿›é˜¶ç¯‡**
10. [CLI å‚æ•°ä¸æ–œæ å‘½ä»¤é€ŸæŸ¥](#åcli-å‚æ•°ä¸æ–œæ å‘½ä»¤é€ŸæŸ¥)
11. [è‡ªå®šä¹‰å‘½ä»¤](#åä¸€è‡ªå®šä¹‰å‘½ä»¤)
12. [ä¼šè¯ç®¡ç†](#åäºŒä¼šè¯ç®¡ç†)
13. [æ·±å…¥ç†è§£ Agent æ¶æ„](#åä¸‰æ·±å…¥ç†è§£-agent-æ¶æ„)

**ä¸“é¢˜ç¯‡**
14. [å¸¸è§é—®é¢˜ä¸ç–‘éš¾æ’è§£](#åå››å¸¸è§é—®é¢˜ä¸ç–‘éš¾æ’è§£)
15. [æˆæœ¬ä¼˜åŒ–ç­–ç•¥](#åäº”æˆæœ¬ä¼˜åŒ–ç­–ç•¥)
16. [IDE ä¸å·¥å…·é“¾é›†æˆ](#åå…­ide-ä¸å·¥å…·é“¾é›†æˆ)
17. [å›¢é˜Ÿåä½œæ¨¡å¼](#åä¸ƒå›¢é˜Ÿåä½œæ¨¡å¼)
18. [äººæœºåä½œå¿ƒæ™ºæ¨¡å‹](#åå…«äººæœºåä½œå¿ƒæ™ºæ¨¡å‹)
19. [åæ¨¡å¼ï¼šé¿å…è¿™äº›é”™è¯¯](#åä¹åæ¨¡å¼é¿å…è¿™äº›é”™è¯¯)
20. [è§’è‰²ä¸“å±æŒ‡å—](#äºŒåè§’è‰²ä¸“å±æŒ‡å—)
21. [æç¤ºè¯æ¨¡æ¿åº“](#äºŒåä¸€æç¤ºè¯æ¨¡æ¿åº“)
22. [è¿›é˜¶ä¸»é¢˜](#äºŒåäºŒè¿›é˜¶ä¸»é¢˜)

---

## ä¸€ã€æ ¸å¿ƒå·¥ä½œåŸç†

### 1.1 Agentic Coding æœºåˆ¶

Claude Code æ˜¯ä¸€ä¸ª **ä¸»åŠ¨å¼ä»£ç åŠ©æ‰‹**ï¼ŒåŒºåˆ«äºä¼ ç»Ÿçš„"é—®ç­”å¼"AIï¼Œå®ƒèƒ½å¤Ÿï¼š

- **ä¸»åŠ¨å†³ç­–**ï¼šä¸ä»…ç»™å»ºè®®ï¼Œè¿˜èƒ½ç›´æ¥æ‰§è¡Œç¼–è¾‘ã€è¿è¡Œå‘½ä»¤ã€åˆ›å»ºæäº¤
- **å·¥å…·è°ƒç”¨**ï¼šé€šè¿‡ Tool Use API æ“ä½œæ–‡ä»¶ç³»ç»Ÿã€æ‰§è¡Œå‘½ä»¤ã€æœç´¢ä»£ç 
- **è¿­ä»£æ¨ç†**ï¼šæ ¹æ®æ‰§è¡Œç»“æœè‡ªåŠ¨è°ƒæ•´ç­–ç•¥ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆ

### 1.2 å·¥ä½œæµç¨‹

```
ç”¨æˆ·æç¤º â†’ Claude åˆ†ææ„å›¾ â†’ é€‰æ‹©å·¥å…· â†’ æ‰§è¡Œæ“ä½œ â†’ è·å–ç»“æœ â†’ è¿­ä»£å†³ç­– â†’ å®Œæˆä»»åŠ¡
```

### 1.3 æ ¸å¿ƒå·¥å…·èƒ½åŠ›

| å·¥å…· | åŠŸèƒ½ | å…¸å‹åœºæ™¯ |
|------|------|---------|
| `Read` | è¯»å–æ–‡ä»¶ | æŸ¥çœ‹ä»£ç ã€é…ç½®æ–‡ä»¶ |
| `Edit` | ç¼–è¾‘æ–‡ä»¶ | ä¿®æ”¹ä»£ç ã€ä¿®å¤ bug |
| `Write` | åˆ›å»ºæ–‡ä»¶ | æ–°å»ºç»„ä»¶ã€é…ç½® |
| `Bash` | æ‰§è¡Œå‘½ä»¤ | è¿è¡Œæµ‹è¯•ã€git æ“ä½œã€æ„å»º |
| `Grep` | å†…å®¹æœç´¢ | æŸ¥æ‰¾å‡½æ•°å®šä¹‰ã€å¼•ç”¨ |
| `Glob` | æ–‡ä»¶æœç´¢ | æŸ¥æ‰¾ç‰¹å®šç±»å‹æ–‡ä»¶ |
| `WebFetch` | è·å–ç½‘é¡µ | æŸ¥é˜…æ–‡æ¡£ã€API å‚è€ƒ |
| `WebSearch` | ç½‘ç»œæœç´¢ | æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ |

---

## äºŒã€ä¸Šä¸‹æ–‡ç®¡ç†ä¸ Token ä¼˜åŒ–

### 2.1 å››å±‚å†…å­˜ä½“ç³»

Claude Code ä½¿ç”¨åˆ†å±‚çš„è®°å¿†ç³»ç»Ÿï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. é¡¹ç›®å†…å­˜: ./CLAUDE.md æˆ– ./.claude/CLAUDE.md        â”‚  â† å›¢é˜Ÿå…±äº«ï¼Œæäº¤åˆ° git
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. é¡¹ç›®è§„åˆ™: ./.claude/rules/*.md                      â”‚  â† æ¨¡å—åŒ–æŒ‡ä»¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. ç”¨æˆ·å†…å­˜: ~/.claude/CLAUDE.md                       â”‚  â† ä¸ªäººå…¨å±€è®¾ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. é¡¹ç›®æœ¬åœ°: ./CLAUDE.local.md                         â”‚  â† ä¸ªäººç¬”è®°ï¼Œä¸æäº¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŸç†**ï¼šClaude æ¯æ¬¡å¯¹è¯å¼€å§‹æ—¶è‡ªåŠ¨åŠ è½½è¿™äº›æ–‡ä»¶ï¼Œç›¸å½“äº"é•¿æœŸè®°å¿†"ï¼Œé¿å…é‡å¤è§£é‡Šé¡¹ç›®èƒŒæ™¯ã€‚

### 2.2 Token ä¼˜åŒ–ç­–ç•¥

#### ä½¿ç”¨ `@` ç›´æ¥å¼•ç”¨æ–‡ä»¶

```bash
# é«˜æ•ˆ âœ“ â€” ç›´æ¥å®šä½ï¼ŒèŠ‚çœæœç´¢ token
> è§£é‡Š @src/utils/auth.js çš„é€»è¾‘

# ä½æ•ˆ âœ— â€” éœ€è¦æœç´¢å’Œæ¢ç´¢
> å¸®æˆ‘æ‰¾åˆ° auth ç›¸å…³çš„ä»£ç å¹¶è§£é‡Š
```

#### æ€è€ƒæ¨¡å¼æ§åˆ¶

```bash
# å¤æ‚é—®é¢˜å¯ç”¨æ·±åº¦æ€è€ƒ
> ultrathink: è®¾è®¡è¿™ä¸ªåˆ†å¸ƒå¼ç¼“å­˜çš„æœ€ä½³æ–¹æ¡ˆ

# ç¯å¢ƒå˜é‡æ§åˆ¶æ€è€ƒé¢„ç®—
export MAX_THINKING_TOKENS=8000  # é»˜è®¤ 31,999

# å…¨å±€å¯ç”¨
/config  # é€‰æ‹© "Enable extended thinking"
```

#### æŸ¥çœ‹ Token æ¶ˆè€—

```bash
/cost  # æ˜¾ç¤ºå½“å‰ä¼šè¯çš„ token ç»Ÿè®¡
```

---

## ä¸‰ã€Hooks è‡ªåŠ¨åŒ–

### 3.1 Hook äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ

```
Sessionå¼€å§‹ â”€â”€â†’ UserPromptSubmit â”€â”€â†’ PreToolUse â”€â”€â†’ å·¥å…·æ‰§è¡Œ â”€â”€â†’ PostToolUse â”€â”€â†’ Stop
     â”‚                                    â”‚                           â”‚
     â–¼                                    â–¼                           â–¼
 SessionStart                      å¯é˜»æ­¢æ“ä½œ                    å¯è§¦å‘åå¤„ç†
```

### 3.2 é…ç½®æ–‡ä»¶ä½ç½®

- é¡¹ç›®çº§ï¼š`.claude/settings.json`
- ç”¨æˆ·çº§ï¼š`~/.claude/settings.json`

### 3.3 å®ç”¨ Hook ç¤ºä¾‹

#### è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆä¿å­˜åè‡ªåŠ¨ prettierï¼‰

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "file_path=$(jq -r '.tool_input.file_path'); if [[ $file_path == *.ts ]] || [[ $file_path == *.tsx ]]; then npx prettier --write \"$file_path\" 2>/dev/null; fi"
          }
        ]
      }
    ]
  }
}
```

#### æ•æ„Ÿæ–‡ä»¶ä¿æŠ¤ï¼ˆé˜»æ­¢ä¿®æ”¹ .envï¼‰

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | grep -qE '\\.(env|secret|key)' && exit 2 || exit 0"
          }
        ]
      }
    ]
  }
}
```

**è¿”å›ç è¯´æ˜**ï¼š
- `0` = å…è®¸ç»§ç»­
- `2` = é˜»æ­¢æ“ä½œ

#### Bash å‘½ä»¤æ—¥å¿—

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.command' >> ~/.claude/command-history.log"
          }
        ]
      }
    ]
  }
}
```

---

## å››ã€MCP Servers æ‰©å±•èƒ½åŠ›

### 4.1 ä»€ä¹ˆæ˜¯ MCP

MCP (Model Context Protocol) å…è®¸ Claude Code è¿æ¥å¤–éƒ¨æœåŠ¡ï¼Œæ‰©å±•å…¶èƒ½åŠ›è¾¹ç•Œã€‚

### 4.2 å¸¸ç”¨é›†æˆ

#### GitHub é›†æˆ

```bash
claude mcp add github -- npx -y @anthropic/mcp-server-github
```

ä½¿ç”¨ï¼š
```bash
> Review PR #456 and suggest improvements
> Create an issue for the bug we found
> Show all open PRs assigned to me
```

#### æ•°æ®åº“æŸ¥è¯¢

```bash
claude mcp add db -- npx -y @bytebase/dbhub \
  --dsn "postgresql://readonly:pass@host:5432/analytics"
```

ä½¿ç”¨ï¼š
```bash
> What's our total revenue this month?
> Find customers inactive for 90 days
```

#### Sentry é”™è¯¯ç›‘æ§

```bash
claude mcp add sentry --transport http https://mcp.sentry.dev/mcp
```

### 4.3 é…ç½®èŒƒå›´

```bash
# æœ¬åœ°èŒƒå›´ï¼ˆé»˜è®¤ï¼Œä¸ªäººä½¿ç”¨ï¼‰
claude mcp add stripe -- ...

# é¡¹ç›®èŒƒå›´ï¼ˆå›¢é˜Ÿå…±äº«ï¼Œæäº¤åˆ° gitï¼‰
claude mcp add --scope project stripe -- ...

# ç”¨æˆ·èŒƒå›´ï¼ˆæ‰€æœ‰é¡¹ç›®å¯ç”¨ï¼‰
claude mcp add --scope user stripe -- ...
```

### 4.4 MCP èµ„æºå¼•ç”¨

```bash
> Analyze @github:issue://123
> Compare @postgres:schema://users with @docs/models.md
```

---

## äº”ã€æƒé™ç®¡ç†

### 5.1 æƒé™é…ç½®

```json
{
  "permissions": {
    "defaultMode": "acceptEdits",
    "allow": [
      "Bash(npm run:*)",
      "Bash(git status)",
      "Bash(git diff)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Edit(./src/**)",
      "Read(./src/**)"
    ],
    "deny": [
      "Bash(rm -rf:*)",
      "Bash(curl:*)",
      "Read(./.env*)",
      "Read(./secrets/**)"
    ]
  }
}
```

### 5.2 ä¸‰ç§æƒé™æ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **Normal** | æ¯æ¬¡æ“ä½œéœ€ç¡®è®¤ | æ•æ„Ÿæ“ä½œã€å­¦ä¹ é˜¶æ®µ |
| **Auto-Accept** | è‡ªåŠ¨æ‰¹å‡†ç¼–è¾‘ | æ—¥å¸¸å¼€å‘ |
| **Plan** | åªè§„åˆ’ä¸æ‰§è¡Œ | æ¶æ„è®¾è®¡ã€é£é™©è¯„ä¼° |

**åˆ‡æ¢æ–¹å¼**ï¼š`Shift+Tab` å¾ªç¯åˆ‡æ¢

### 5.3 å¯åŠ¨æ—¶æŒ‡å®šæ¨¡å¼

```bash
claude --permission-mode plan  # è§„åˆ’æ¨¡å¼
claude --permission-mode acceptEdits  # è‡ªåŠ¨æ¥å—
```

---

## å…­ã€é«˜æ•ˆäº¤äº’æŠ€å·§

### 6.1 å¿«æ·é”®é€ŸæŸ¥

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+C` | å–æ¶ˆå½“å‰æ“ä½œ |
| `Ctrl+D` | é€€å‡º Claude Code |
| `Ctrl+L` | æ¸…å±ï¼ˆä¿ç•™å†å²ï¼‰|
| `Ctrl+O` | åˆ‡æ¢è¯¦ç»†è¾“å‡ºï¼ˆæ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹ï¼‰|
| `Shift+Tab` | åˆ‡æ¢æƒé™æ¨¡å¼ |
| `Esc+Esc` | æ’¤é”€æœ€åçš„ä»£ç æ”¹åŠ¨ |
| `Option+Enter` | å¤šè¡Œè¾“å…¥ï¼ˆmacOSï¼‰|

### 6.2 ç®¡é“æ¨¡å¼

```bash
# åˆ†ææ—¥å¿—
cat error.log | claude -p "åˆ†æè¿™ä¸ªé”™è¯¯æ—¥å¿—çš„æ ¹æœ¬åŸå› "

# ä»£ç å®¡æŸ¥
git diff | claude -p "å®¡æŸ¥è¿™äº›æ”¹åŠ¨ï¼Œå…³æ³¨å®‰å…¨é—®é¢˜"

# è§£é‡Šä»£ç 
cat complex.ts | claude -p "è§£é‡Šè¿™æ®µä»£ç çš„é€»è¾‘"
```

### 6.3 å¿«é€Ÿå‘½ä»¤

```bash
# æ‰§è¡Œ Bash å‘½ä»¤
> ! npm test

# æ·»åŠ åˆ°è®°å¿†
> # è®°å¾—å…ˆè¿è¡Œ lint å†æäº¤

# å¼•ç”¨æ–‡ä»¶
> Explain @src/complex-algorithm.ts
```

---

## ä¸ƒã€æç¤ºè¯æŠ€å·§

### 7.1 é«˜æ•ˆæç¤ºè¯ç»“æ„

```
[ä¸Šä¸‹æ–‡] â†’ [å…·ä½“ä»»åŠ¡] â†’ [çº¦æŸæ¡ä»¶]
```

**ç¤ºä¾‹**ï¼š

```bash
> é¡¹ç›®ä½¿ç”¨ TypeScript + React + Zustand
> ä¸º @src/components/UserProfile.tsx æ·»åŠ ç¼–è¾‘åŠŸèƒ½
> è¦æ±‚ï¼š
>   - ä½¿ç”¨ç°æœ‰çš„ Modal ç»„ä»¶
>   - è¡¨å•éªŒè¯ä½¿ç”¨ zod
>   - ä¿æŒç°æœ‰ä»£ç é£æ ¼
```

### 7.2 ä½•æ—¶ä½¿ç”¨æ·±åº¦æ€è€ƒ

```bash
# æ¶æ„è®¾è®¡
> ultrathink: æˆ‘ä»¬åº”è¯¥ç”¨ Redux è¿˜æ˜¯ Zustandï¼Ÿ

# å¤æ‚è°ƒè¯•
> ultrathink: ä¸ºä»€ä¹ˆè¿™ä¸ªå†…å­˜æ³„æ¼åªåœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°ï¼Ÿ

# é‡æ„è§„åˆ’
> ultrathink: å¦‚ä½•å°†è¿™ä¸ªå•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡ï¼Ÿ
```

### 7.3 è¿­ä»£å¼æ¢ç´¢

```bash
# ç¬¬ä¸€æ­¥ï¼šç†è§£å…¨å±€
> give me an overview of this codebase

# ç¬¬äºŒæ­¥ï¼šæ·±å…¥æ¨¡å—
> how does the authentication flow work?

# ç¬¬ä¸‰æ­¥ï¼šåˆ¶å®šæ–¹æ¡ˆ
> what's the best way to add OAuth support?

# ç¬¬å››æ­¥ï¼šæ‰§è¡Œå®ç°
> implement Google OAuth login
```

---

## å…«ã€å®æˆ˜å·¥ä½œæµ

### 8.1 Bug ä¿®å¤æµç¨‹

```bash
# 1. æè¿°é—®é¢˜
> ç”¨æˆ·ç™»å½•æ—¶å¶å‘è¶…æ—¶ï¼Œé”™è¯¯ä¿¡æ¯ï¼šConnection timeout after 30s

# 2. å®šä½åŸå› 
> search for timeout configuration in the auth module

# 3. åˆ†æä»£ç 
> explain the connection handling in @src/lib/auth.ts

# 4. å®æ–½ä¿®å¤
> fix the timeout issue by adding retry logic

# 5. éªŒè¯ä¿®å¤
> run the auth tests

# 6. åˆ›å»º PR
> create a pr explaining the fix
```

### 8.2 æ–°åŠŸèƒ½å¼€å‘æµç¨‹

```bash
# 1. è§„åˆ’ï¼ˆPlan Modeï¼‰
claude --permission-mode plan
> I need to add a user notification system

# 2. å®¡æŸ¥è®¡åˆ’ååˆ‡æ¢åˆ°æ‰§è¡Œæ¨¡å¼
# Shift+Tab åˆ‡æ¢

# 3. é€æ­¥å®ç°
> create the notification service
> add the notification UI component
> integrate with the existing user system

# 4. æµ‹è¯•
> write tests for the notification feature
> run all tests

# 5. æ”¶å°¾
> update the documentation
> create a pr
```

### 8.3 ä»£ç å®¡æŸ¥æµç¨‹

```bash
# å®¡æŸ¥ PR
> review PR #123, focus on:
>   - Security vulnerabilities
>   - Performance issues
>   - Code style consistency

# å®¡æŸ¥æœ¬åœ°æ”¹åŠ¨
git diff main | claude -p "å®¡æŸ¥è¿™äº›æ”¹åŠ¨ï¼Œç»™å‡ºæ”¹è¿›å»ºè®®"
```

---

## ä¹ã€é…ç½®ç¤ºä¾‹

### 9.1 æ¨èçš„ `.claude/settings.json`

```json
{
  "permissions": {
    "defaultMode": "acceptEdits",
    "allow": [
      "Bash(npm run:*)",
      "Bash(pnpm:*)",
      "Bash(git:*)",
      "Bash(node:*)",
      "Edit(./src/**)",
      "Edit(./tests/**)",
      "Read(**)"
    ],
    "deny": [
      "Bash(rm -rf:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Read(./.env*)",
      "Edit(./.env*)"
    ]
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(jq -r '.tool_input.file_path'); [[ $file == *.ts || $file == *.tsx || $file == *.js || $file == *.jsx ]] && npx prettier --write \"$file\" 2>/dev/null || true"
          }
        ]
      }
    ]
  }
}
```

### 9.2 æ¨èçš„ `CLAUDE.md` æ¨¡æ¿

```markdown
# é¡¹ç›®åç§°

> ä¸€å¥è¯æè¿°é¡¹ç›®ç”¨é€”

## å¿«é€Ÿå‘½ä»¤

- å¼€å‘: `npm run dev`
- æ„å»º: `npm run build`
- æµ‹è¯•: `npm run test`
- æ£€æŸ¥: `npm run lint`

## æŠ€æœ¯æ ˆ

- è¯­è¨€: TypeScript 5.x
- æ¡†æ¶: React 18 / Next.js 14
- æ ·å¼: Tailwind CSS
- æµ‹è¯•: Vitest

## é¡¹ç›®ç»“æ„

src/
â”œâ”€â”€ app/           # é¡µé¢
â”œâ”€â”€ components/    # ç»„ä»¶
â”œâ”€â”€ hooks/         # Hooks
â”œâ”€â”€ lib/           # å·¥å…·å‡½æ•°
â””â”€â”€ types/         # ç±»å‹å®šä¹‰

## ä»£ç è§„èŒƒ

- 2 ç©ºæ ¼ç¼©è¿›
- å‡½æ•°å¼ç»„ä»¶ + Hooks
- ç»„ä»¶æ–‡ä»¶ PascalCase
- å·¥å…·å‡½æ•° camelCase

## å…³é”®æ–‡ä»¶

- `src/lib/api.ts` - API å°è£…
- `src/lib/auth.ts` - è®¤è¯é€»è¾‘
- `src/types/index.ts` - å…¨å±€ç±»å‹

## æ³¨æ„äº‹é¡¹

- ä¸ä¿®æ”¹ .env æ–‡ä»¶
- æäº¤å‰è¿è¡Œ lint å’Œ test
- PR éœ€è¦ review
```

---

## æ€»ç»“ï¼šé«˜æ•ˆä½¿ç”¨çš„æ ¸å¿ƒåŸåˆ™

| åŸåˆ™ | å®è·µæ–¹æ³• |
|------|---------|
| **å‡å°‘æœç´¢å¼€é”€** | ç”¨ `@` ç›´æ¥å¼•ç”¨æ–‡ä»¶ |
| **å»ºç«‹é•¿æœŸè®°å¿†** | ç»´æŠ¤å¥½ `CLAUDE.md` |
| **è‡ªåŠ¨åŒ–é‡å¤æ“ä½œ** | é…ç½® Hooks |
| **æ‰©å±•èƒ½åŠ›è¾¹ç•Œ** | é›†æˆ MCP Servers |
| **æ§åˆ¶å®‰å…¨è¾¹ç•Œ** | é…ç½®æƒé™ç™½åå•/é»‘åå• |
| **å¤æ‚é—®é¢˜æ·±åº¦æ€è€ƒ** | ä½¿ç”¨ `ultrathink:` å‰ç¼€ |
| **èå…¥ç°æœ‰å·¥å…·é“¾** | å–„ç”¨ç®¡é“æ¨¡å¼ |

---

## åã€CLI å‚æ•°ä¸æ–œæ å‘½ä»¤é€ŸæŸ¥

### 10.1 å¯åŠ¨å‚æ•°

```bash
# åŸºæœ¬å¯åŠ¨
claude                          # äº¤äº’å¼ REPL
claude "ä½ çš„é—®é¢˜"               # å¸¦åˆå§‹æç¤ºå¯åŠ¨
claude -p "æŸ¥è¯¢"                # å•æ¬¡æŸ¥è¯¢åé€€å‡ºï¼ˆSDK æ¨¡å¼ï¼‰
claude -c                       # ç»§ç»­ä¸Šæ¬¡å¯¹è¯
claude -r "session"             # æ¢å¤æŒ‡å®šä¼šè¯

# æ¨¡å‹é€‰æ‹©
claude --model sonnet           # ä½¿ç”¨ Sonnet
claude --model opus             # ä½¿ç”¨ Opus

# æƒé™æ¨¡å¼
claude --permission-mode plan   # è§„åˆ’æ¨¡å¼å¯åŠ¨
claude --dangerously-skip-permissions  # è·³è¿‡æƒé™ï¼ˆè°¨æ…ï¼‰

# é«˜çº§é€‰é¡¹
claude --add-dir ../lib ../shared      # æ·»åŠ é¢å¤–ç›®å½•åˆ°ä¸Šä¸‹æ–‡
claude --append-system-prompt "..."    # è¿½åŠ ç³»ç»Ÿæç¤º
claude --tools "Bash,Edit,Read"        # é™åˆ¶å¯ç”¨å·¥å…·
claude --verbose                       # è¯¦ç»†è¾“å‡º
claude --debug "api,mcp"               # è°ƒè¯•æ¨¡å¼
```

### 10.2 æ–œæ å‘½ä»¤é€ŸæŸ¥è¡¨

#### ä¼šè¯æ§åˆ¶

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/help` | æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ |
| `/clear` | æ¸…é™¤å¯¹è¯å†å² |
| `/exit` | é€€å‡º Claude Code |
| `/compact` | å‹ç¼©å¯¹è¯ï¼ˆèŠ‚çœ tokensï¼‰|
| `/rewind` | å›é€€ä»£ç /å¯¹è¯ |

#### ä¼šè¯ç®¡ç†

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/resume [session]` | æ¢å¤æŒ‡å®šä¼šè¯ |
| `/rename <name>` | é‡å‘½åå½“å‰ä¼šè¯ |
| `/export [file]` | å¯¼å‡ºå¯¹è¯åˆ°æ–‡ä»¶ |

#### é…ç½®ä¸çŠ¶æ€

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/config` | æ‰“å¼€è®¾ç½®ç•Œé¢ |
| `/status` | æŸ¥çœ‹çŠ¶æ€ä¿¡æ¯ |
| `/model` | åˆ‡æ¢æ¨¡å‹ |
| `/memory` | ç¼–è¾‘ CLAUDE.md |
| `/permissions` | æŸ¥çœ‹/æ›´æ–°æƒé™ |
| `/cost` | Token ä½¿ç”¨ç»Ÿè®¡ |
| `/context` | ä¸Šä¸‹æ–‡å¯è§†åŒ– |
| `/stats` | ä½¿ç”¨ç»Ÿè®¡ |

#### å¼€å‘å·¥å…·

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/init` | åˆå§‹åŒ–é¡¹ç›® CLAUDE.md |
| `/doctor` | æ£€æŸ¥å®‰è£…å¥åº·çŠ¶å†µ |
| `/todos` | åˆ—å‡ºå½“å‰ TODO |
| `/bashes` | ç®¡ç†åå°ä»»åŠ¡ |
| `/vim` | è¿›å…¥ vim æ¨¡å¼ |

#### é›†æˆç®¡ç†

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/mcp` | ç®¡ç† MCP æœåŠ¡å™¨ |
| `/hooks` | ç®¡ç† Hooks |
| `/agents` | ç®¡ç†è‡ªå®šä¹‰ Agents |

---

## åä¸€ã€è‡ªå®šä¹‰å‘½ä»¤

### 11.1 åˆ›å»ºè‡ªå®šä¹‰æ–œæ å‘½ä»¤

åœ¨ `.claude/commands/` (é¡¹ç›®) æˆ– `~/.claude/commands/` (å…¨å±€) åˆ›å»º markdown æ–‡ä»¶ï¼š

#### ç®€å•å‘½ä»¤

`.claude/commands/review.md`:
```markdown
---
description: ä»£ç å®¡æŸ¥
---

å®¡æŸ¥å½“å‰æ”¹åŠ¨ï¼Œå…³æ³¨ï¼š
- å®‰å…¨æ¼æ´
- æ€§èƒ½é—®é¢˜
- ä»£ç é£æ ¼
- æ½œåœ¨ bug
```

ä½¿ç”¨ï¼š`/review`

#### å¸¦å‚æ•°çš„å‘½ä»¤

`.claude/commands/fix-issue.md`:
```markdown
---
argument-hint: [issue-number]
description: ä¿®å¤ GitHub Issue
---

æŸ¥çœ‹ GitHub Issue #$1ï¼Œåˆ†æé—®é¢˜å¹¶å®ç°ä¿®å¤ã€‚
```

ä½¿ç”¨ï¼š`/fix-issue 123`

#### å¤šå‚æ•°å‘½ä»¤

`.claude/commands/create-component.md`:
```markdown
---
argument-hint: [component-name] [type: page|ui|feature]
description: åˆ›å»º React ç»„ä»¶
---

åœ¨ src/components/$2/ ç›®å½•åˆ›å»º $1 ç»„ä»¶ï¼ŒåŒ…å«ï¼š
- ç»„ä»¶æ–‡ä»¶ $1.tsx
- æ ·å¼æ–‡ä»¶ $1.module.css
- æµ‹è¯•æ–‡ä»¶ $1.test.tsx
- index.ts å¯¼å‡º
```

ä½¿ç”¨ï¼š`/create-component UserCard ui`

### 11.2 å®ç”¨è‡ªå®šä¹‰å‘½ä»¤ç¤ºä¾‹

#### ä»£ç å®¡æŸ¥å‘½ä»¤

```markdown
---
description: å®‰å…¨å®¡æŸ¥
---

å¯¹å½“å‰åˆ†æ”¯çš„æ”¹åŠ¨è¿›è¡Œå®‰å…¨å®¡æŸ¥ï¼š

1. æ£€æŸ¥ OWASP Top 10 æ¼æ´
2. æ£€æŸ¥æ•æ„Ÿä¿¡æ¯æ³„éœ²
3. æ£€æŸ¥è¾“å…¥éªŒè¯
4. æ£€æŸ¥æƒé™æ§åˆ¶
5. ç”Ÿæˆå®‰å…¨æŠ¥å‘Š
```

#### PR åˆ›å»ºå‘½ä»¤

```markdown
---
argument-hint: [base-branch]
description: åˆ›å»º PR
---

åŸºäº $1 åˆ†æ”¯åˆ›å»º Pull Requestï¼š
1. æ€»ç»“æ‰€æœ‰æäº¤çš„æ”¹åŠ¨
2. ç”Ÿæˆæ¸…æ™°çš„ PR æè¿°
3. åˆ—å‡ºæµ‹è¯•æ¸…å•
```

#### æµ‹è¯•ç”Ÿæˆå‘½ä»¤

```markdown
---
argument-hint: [file-path]
description: ä¸ºæ–‡ä»¶ç”Ÿæˆæµ‹è¯•
---

ä¸º @$1 ç”Ÿæˆå•å…ƒæµ‹è¯•ï¼š
- ä½¿ç”¨é¡¹ç›®ç°æœ‰çš„æµ‹è¯•æ¡†æ¶
- è¦†ç›–ä¸»è¦åŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ
- åŒ…å« mock å’Œ fixture
```

---

## åäºŒã€ä¼šè¯ç®¡ç†

### 12.1 ä¼šè¯æ“ä½œ

```bash
# ç»§ç»­æœ€è¿‘ä¼šè¯
claude -c

# ç»§ç»­å¹¶è¿½åŠ æç¤º
claude -c "ç»§ç»­ä¸Šæ¬¡çš„å·¥ä½œ"

# æ¢å¤æŒ‡å®šä¼šè¯ï¼ˆæŒ‰åç§°æˆ– IDï¼‰
claude -r "feature-auth"
claude -r "abc123"

# åœ¨ Claude Code å†…æ¢å¤
> /resume feature-auth
```

### 12.2 ä¼šè¯å‘½å

```bash
# é‡å‘½åå½“å‰ä¼šè¯
> /rename auth-implementation

# ä¹‹åå¯ä»¥ç”¨åç§°æ¢å¤
claude -r "auth-implementation"
```

### 12.3 ä¼šè¯å¯¼å‡º

```bash
# å¯¼å‡ºåˆ°å‰ªè´´æ¿
> /export

# å¯¼å‡ºåˆ°æ–‡ä»¶
> /export conversation.md
> /export ~/notes/debug-session.md
```

### 12.4 æŸ¥çœ‹ä¼šè¯å†å²

```bash
# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯ï¼ˆåŒ…å«ä¼šè¯å†å²ï¼‰
> /stats
```

### 12.5 ä¼šè¯æœ€ä½³å®è·µ

| åœºæ™¯ | å»ºè®® |
|------|------|
| é•¿æœŸåŠŸèƒ½å¼€å‘ | å‘½åä¼šè¯ï¼Œä¾¿äºæ¢å¤ |
| è°ƒè¯•é—®é¢˜ | å¯¼å‡ºä¼šè¯ä¾›å›¢é˜Ÿå‚è€ƒ |
| å¤šä»»åŠ¡åˆ‡æ¢ | ä¸åŒä»»åŠ¡ç”¨ä¸åŒä¼šè¯ |
| èŠ‚çœ token | å®šæœŸ `/compact` å‹ç¼© |
| é‡æ–°å¼€å§‹ | `/clear` æ¸…é™¤å†å² |

---

## åä¸‰ã€æ·±å…¥ç†è§£ Agent æ¶æ„

### 13.1 Claude Code çš„æœ¬è´¨

Claude Code ä¸æ˜¯ç®€å•çš„"èŠå¤©æœºå™¨äºº + ä»£ç æ‰§è¡Œ"ï¼Œè€Œæ˜¯ä¸€ä¸ª **è‡ªä¸»ä»£ç†ç³»ç»Ÿ (Autonomous Agent System)**ã€‚ç†è§£è¿™ä¸€ç‚¹å¯¹äºé«˜æ•ˆä½¿ç”¨è‡³å…³é‡è¦ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Claude Code æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç”¨æˆ·    â”‚â”€â”€â”€â†’â”‚  ä¸»Agent â”‚â”€â”€â”€â†’â”‚ Sub-Agentâ”‚â”€â”€â”€â†’â”‚  å·¥å…·å±‚  â”‚  â”‚
â”‚  â”‚  è¾“å…¥    â”‚    â”‚  (Opus)  â”‚    â”‚ (Sonnet) â”‚    â”‚ Bash/Editâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â†‘              â”‚                               â”‚         â”‚
â”‚        â”‚              â–¼                               â–¼         â”‚
â”‚        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ åé¦ˆå¾ªç¯ â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ æ‰§è¡Œç»“æœ â”‚     â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 13.2 Sub-Agent ç³»ç»Ÿ

Claude Code å†…éƒ¨ä½¿ç”¨å¤šä¸ªä¸“é—¨åŒ–çš„å­ä»£ç†ï¼š

| Agent ç±»å‹ | ç”¨é€” | ç‰¹ç‚¹ |
|-----------|------|------|
| `Explore` | ä»£ç åº“æ¢ç´¢ | å¿«é€Ÿæœç´¢ï¼Œä½ token æ¶ˆè€— |
| `Plan` | æ¶æ„è§„åˆ’ | æ·±åº¦åˆ†æï¼Œé«˜è´¨é‡è¾“å‡º |
| `general-purpose` | å¤æ‚ä»»åŠ¡ | å…¨å·¥å…·è®¿é—® |

**è®¾è®¡å“²å­¦**ï¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ç»™ä¸“é—¨çš„å­ä»£ç†ï¼Œä¸»ä»£ç†è´Ÿè´£åè°ƒå’Œæ•´åˆç»“æœã€‚

```bash
# å½“ä½ é—®"è¿™ä¸ªé¡¹ç›®çš„ç»“æ„æ˜¯ä»€ä¹ˆ"æ—¶ï¼Œå®é™…å‘ç”Ÿï¼š
ç”¨æˆ·æé—® â†’ ä¸»Agentåˆ¤æ–­ â†’ æ´¾å‘ç»™Explore Agent â†’ å¹¶è¡Œæœç´¢ â†’ æ±‡æ€»ç»“æœ â†’ è¿”å›ç”¨æˆ·
```

### 13.3 å·¥å…·è°ƒç”¨çš„å†³ç­–æœºåˆ¶

Claude Code åœ¨é€‰æ‹©å·¥å…·æ—¶éµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§ï¼š

```
1. ä¸“ç”¨å·¥å…·ä¼˜å…ˆäºé€šç”¨å·¥å…·
   Read > cat | Bash
   Edit > sed | Bash
   Grep > grep | Bash

2. å¹¶è¡Œæ‰§è¡Œä¼˜å…ˆäºä¸²è¡Œ
   åŒæ—¶è¯»å–å¤šä¸ªç‹¬ç«‹æ–‡ä»¶ > é€ä¸ªè¯»å–

3. ç²¾ç¡®å®šä½ä¼˜å…ˆäºå¹¿æ³›æœç´¢
   @file ç›´æ¥å¼•ç”¨ > Grep æœç´¢ > Glob æ¨¡å¼åŒ¹é…

4. å¢é‡ä¿®æ”¹ä¼˜å…ˆäºå…¨é‡é‡å†™
   Edit(å±€éƒ¨æ›¿æ¢) > Write(å…¨æ–‡ä»¶é‡å†™)
```

### 13.4 ä¸Šä¸‹æ–‡çª—å£çš„çœŸç›¸

**200K Token çš„å®é™…æ„ä¹‰**ï¼š

```
200K tokens â‰ˆ 150,000 å•è¯ â‰ˆ 500 é¡µæ–‡æ¡£ â‰ˆ çº¦ 50-100 ä¸ªä¸­å‹æºæ–‡ä»¶
```

**ä¸Šä¸‹æ–‡æ„æˆ**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            200K Token ä¸Šä¸‹æ–‡çª—å£              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç³»ç»Ÿæç¤º (~5K)                               â”‚
â”‚ â”œâ”€â”€ Claude Code æ ¸å¿ƒæŒ‡ä»¤                     â”‚
â”‚ â””â”€â”€ å·¥å…·å®šä¹‰                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¡¹ç›®è®°å¿† (~1-5K)                             â”‚
â”‚ â”œâ”€â”€ CLAUDE.md                               â”‚
â”‚ â””â”€â”€ rules/*.md                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯¹è¯å†å² (åŠ¨æ€ï¼Œä¸»è¦æ¶ˆè€—)                     â”‚
â”‚ â”œâ”€â”€ ç”¨æˆ·æ¶ˆæ¯                                 â”‚
â”‚ â”œâ”€â”€ Claude å›å¤                              â”‚
â”‚ â””â”€â”€ å·¥å…·è°ƒç”¨ç»“æœ â† æœ€å¤§æ¶ˆè€—æ¥æº              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡                               â”‚
â”‚ â””â”€â”€ è¯»å–çš„æ–‡ä»¶ã€æœç´¢ç»“æœç­‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®æ´å¯Ÿ**ï¼šå·¥å…·è°ƒç”¨ç»“æœï¼ˆå°¤å…¶æ˜¯è¯»å–å¤§æ–‡ä»¶ï¼‰æ˜¯ token æ¶ˆè€—çš„ä¸»è¦æ¥æºã€‚

### 13.5 è‡ªåŠ¨æ‘˜è¦æœºåˆ¶

å½“ä¸Šä¸‹æ–‡æ¥è¿‘æé™æ—¶ï¼ŒClaude Code ä¼šï¼š

1. **è‡ªåŠ¨å‹ç¼©å†å²å¯¹è¯**ï¼šä¿ç•™å…³é”®ä¿¡æ¯ï¼Œä¸¢å¼ƒå†—ä½™ç»†èŠ‚
2. **ä¿ç•™æœ€æ–°ä¸Šä¸‹æ–‡**ï¼šç¡®ä¿å½“å‰ä»»åŠ¡ä¸å—å½±å“
3. **ç»´æŠ¤ä»»åŠ¡è¿ç»­æ€§**ï¼šè®°ä½æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ

```bash
# æ‰‹åŠ¨è§¦å‘å‹ç¼©
> /compact

# æŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡ä½¿ç”¨
> /context
```

---

## åå››ã€å¸¸è§é—®é¢˜ä¸ç–‘éš¾æ’è§£

### 14.1 Claude "å¹»è§‰"é—®é¢˜

**ç—‡çŠ¶**ï¼šClaude ç”Ÿæˆä¸å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„ã€API æˆ–å‡½æ•°å

**åŸå› **ï¼š
- ä¸Šä¸‹æ–‡ä¸­ç¼ºå°‘å¿…è¦ä¿¡æ¯
- è¿‡äºæ¨¡ç³Šçš„æŒ‡ä»¤
- é¡¹ç›®ç‰¹å®šçš„çº¦å®šæœªè¯´æ˜

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# âŒ æ¨¡ç³Šè¯·æ±‚
> å¸®æˆ‘è°ƒç”¨ç”¨æˆ·æœåŠ¡çš„API

# âœ… ç²¾ç¡®è¯·æ±‚
> æŸ¥çœ‹ @src/services/user.ts ä¸­çš„ getUserById å‡½æ•°ï¼Œç„¶åè°ƒç”¨å®ƒ
```

**é¢„é˜²æªæ–½**ï¼š
1. åœ¨ CLAUDE.md ä¸­æ˜ç¡®é¡¹ç›® API å’Œçº¦å®š
2. ä½¿ç”¨ `@` å¼•ç”¨å…·ä½“æ–‡ä»¶
3. è¦æ±‚ Claude å…ˆæœç´¢å†è¡ŒåŠ¨

### 14.2 ä¸Šä¸‹æ–‡ä¸¢å¤±

**ç—‡çŠ¶**ï¼šClaude å¿˜è®°äº†ä¹‹å‰è®¨è®ºçš„å†…å®¹

**åŸå› **ï¼š
- å¯¹è¯è¿‡é•¿ï¼Œè§¦å‘äº†è‡ªåŠ¨å‹ç¼©
- è·¨ä¼šè¯å·¥ä½œ

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. ä½¿ç”¨ /compact æ—¶æ·»åŠ ä¿ç•™æŒ‡ä»¤
> /compact ä¿ç•™å…³äºè®¤è¯æ¨¡å—é‡æ„çš„æ‰€æœ‰è®¨è®º

# 2. é‡è¦å†³å®šå†™å…¥è®°å¿†
> # å†³å®šï¼šä½¿ç”¨ JWT è€Œé Sessionï¼ŒåŸå› æ˜¯...

# 3. å‘½åä¼šè¯ä¾¿äºæ¢å¤
> /rename auth-refactor
```

### 14.3 ä»£ç æ”¹åäº†æ€ä¹ˆåŠ

**å³æ—¶å›æ»š**ï¼š

```bash
# æ–¹æ³•1ï¼šåŒå‡» Esc
Esc + Esc

# æ–¹æ³•2ï¼šä½¿ç”¨ rewind
> /rewind

# æ–¹æ³•3ï¼šGit å›æ»šï¼ˆå¦‚æœå·²æäº¤ï¼‰
> ! git checkout -- path/to/file
```

**é¢„é˜²æªæ–½**ï¼š

```bash
# 1. é‡è¦ä¿®æ”¹å‰å…ˆ Plan Mode
claude --permission-mode plan

# 2. å¯ç”¨è‡ªåŠ¨ Git æ£€æŸ¥ç‚¹
# åœ¨ hooks ä¸­é…ç½®è‡ªåŠ¨ stash
```

### 14.4 Claude é™·å…¥å¾ªç¯

**ç—‡çŠ¶**ï¼šåå¤å°è¯•åŒæ ·çš„å¤±è´¥æ–¹æ¡ˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. ä¸­æ–­å¹¶é‡æ–°å¼•å¯¼
Ctrl+C
> åœæ­¢ã€‚è®©æˆ‘ä»¬æ¢ä¸ªæ–¹æ³•ã€‚ä¸è¦ä½¿ç”¨ Xï¼Œå°è¯• Y

# 2. æä¾›æ›´å¤šä¸Šä¸‹æ–‡
> ä¹‹å‰çš„æ–¹æ³•å¤±è´¥æ˜¯å› ä¸º [åŸå› ]ã€‚è¿™ä¸ªé¡¹ç›®çš„çº¦å®šæ˜¯ [è¯´æ˜]

# 3. æ¸…é™¤ä¸Šä¸‹æ–‡é‡æ–°å¼€å§‹
> /clear
```

### 14.5 å¤§æ–‡ä»¶å¤„ç†

**é—®é¢˜**ï¼šè¯»å–å¤§æ–‡ä»¶æ¶ˆè€—å¤§é‡ token

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. æŒ‡å®šè¡ŒèŒƒå›´
> è¯»å– @src/large-file.ts çš„ç¬¬ 100-200 è¡Œ

# 2. ä½¿ç”¨ Grep ç²¾ç¡®å®šä½
> åœ¨ @src/large-file.ts ä¸­æœç´¢ "handleAuth" å‡½æ•°

# 3. è®© Claude åˆ†æ®µè¯»å–
> è¿™ä¸ªæ–‡ä»¶å¾ˆå¤§ï¼Œè¯·åªè¯»å–ä¸ç”¨æˆ·è®¤è¯ç›¸å…³çš„éƒ¨åˆ†
```

### 14.6 å‘½ä»¤æ‰§è¡Œè¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. åå°è¿è¡Œ
> è¿è¡Œ npm run buildï¼ˆåå°æ‰§è¡Œï¼‰

# 2. å¢åŠ è¶…æ—¶
> è¿è¡Œæµ‹è¯•ï¼Œè¶…æ—¶è®¾ä¸º 5 åˆ†é’Ÿ

# 3. åˆ†æ­¥æ‰§è¡Œ
> å…ˆåªè¿è¡Œ auth æ¨¡å—çš„æµ‹è¯•
```

### 14.7 æƒé™è¢«æ‹’ç»

**è¯Šæ–­**ï¼š

```bash
> /permissions  # æŸ¥çœ‹å½“å‰æƒé™é…ç½®
> /doctor       # æ£€æŸ¥å®‰è£…çŠ¶æ€
```

**å¸¸è§è§£å†³**ï¼š

```json
{
  "permissions": {
    "allow": [
      "Bash(npm:*)",
      "Edit(./src/**)"
    ]
  }
}
```

---

## åäº”ã€æˆæœ¬ä¼˜åŒ–ç­–ç•¥

### 15.1 Token æˆæœ¬æ„æˆ

```
æ€»æˆæœ¬ = è¾“å…¥ tokens Ã— è¾“å…¥ä»·æ ¼ + è¾“å‡º tokens Ã— è¾“å‡ºä»·æ ¼ + æ€è€ƒ tokens Ã— æ€è€ƒä»·æ ¼
```

**å„æ¨¡å‹ä»·æ ¼å¯¹æ¯”**ï¼ˆæ¯ç™¾ä¸‡ tokenï¼‰ï¼š

| æ¨¡å‹ | è¾“å…¥ | è¾“å‡º | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| Haiku | $0.25 | $1.25 | ç®€å•æŸ¥è¯¢ã€æœç´¢ |
| Sonnet | $3 | $15 | æ—¥å¸¸å¼€å‘ |
| Opus | $15 | $75 | å¤æ‚æ¶æ„ã€æ·±åº¦åˆ†æ |

### 15.2 æˆæœ¬ä¼˜åŒ–æŠ€å·§

#### é€‰æ‹©åˆé€‚çš„æ¨¡å‹

```bash
# ç®€å•ä»»åŠ¡ç”¨ Haiku/Sonnet
claude --model sonnet "ä¿®å¤è¿™ä¸ª typo"

# å¤æ‚ä»»åŠ¡æ‰ç”¨ Opus
claude --model opus "è®¾è®¡å¾®æœåŠ¡æ¶æ„"
```

#### å‡å°‘ä¸Šä¸‹æ–‡è†¨èƒ€

```bash
# âŒ è¯»å–æ•´ä¸ªå¤§æ–‡ä»¶
> è§£é‡Š @src/giant-module.ts

# âœ… åªè¯»å–éœ€è¦çš„éƒ¨åˆ†
> è§£é‡Š @src/giant-module.ts ä¸­çš„ processPayment å‡½æ•°
```

#### åŠæ—¶å‹ç¼©å¯¹è¯

```bash
# å®Œæˆä¸€ä¸ªå­ä»»åŠ¡åå‹ç¼©
> /compact

# æŸ¥çœ‹å½“å‰æˆæœ¬
> /cost
```

#### ä½¿ç”¨ç®¡é“æ¨¡å¼å¤„ç†æ‰¹é‡ä»»åŠ¡

```bash
# æ‰¹é‡å¤„ç†ï¼Œä¸€æ¬¡è¯·æ±‚
find src -name "*.ts" | head -5 | claude -p "æ£€æŸ¥è¿™äº›æ–‡ä»¶çš„ç±»å‹é”™è¯¯"
```

### 15.3 æˆæœ¬ç›‘æ§

```bash
# æŸ¥çœ‹å½“å‰ä¼šè¯æˆæœ¬
> /cost

# æŸ¥çœ‹å†å²ç»Ÿè®¡
> /stats
```

**è®¾ç½®é¢„ç®—æé†’**ï¼ˆé€šè¿‡ç¯å¢ƒå˜é‡ï¼‰ï¼š

```bash
export CLAUDE_CODE_COST_WARNING_THRESHOLD=5.00  # è¶…è¿‡ $5 æé†’
```

### 15.4 ä¼ä¸šä½¿ç”¨çš„æˆæœ¬æ§åˆ¶

```json
{
  "permissions": {
    "defaultMode": "normal"  // é auto-acceptï¼Œå‡å°‘è¯¯æ“ä½œ
  },
  "env": {
    "MAX_THINKING_TOKENS": "10000"  // é™åˆ¶æ€è€ƒ token
  }
}
```

---

## åå…­ã€IDE ä¸å·¥å…·é“¾é›†æˆ

### 16.1 VS Code é›†æˆ

#### ç»ˆç«¯é›†æˆ

```bash
# åœ¨ VS Code ç»ˆç«¯ç›´æ¥ä½¿ç”¨
code --new-window /path/to/project
# ç„¶ååœ¨é›†æˆç»ˆç«¯è¿è¡Œ claude
```

#### é…åˆ VS Code æ‰©å±•

```bash
# è®© Claude ä¸ VS Code åä½œ
> æˆ‘åœ¨ VS Code ä¸­æ‰“å¼€äº† @src/App.tsxï¼Œå¸®æˆ‘æ·»åŠ ä¸€ä¸ªæ–°çš„è·¯ç”±

# åˆ©ç”¨ VS Code çš„é—®é¢˜é¢æ¿
> æŸ¥çœ‹ VS Code æŠ¥å‘Šçš„ TypeScript é”™è¯¯å¹¶ä¿®å¤å®ƒä»¬
```

### 16.2 JetBrains IDE é›†æˆ

```bash
# åœ¨ JetBrains ç»ˆç«¯å·¥å…·çª—å£ä½¿ç”¨
# æˆ–ä½¿ç”¨å¤–éƒ¨ç»ˆç«¯

# é…åˆ IDE åŠŸèƒ½
> æ£€æŸ¥ IDE æ ‡è®°çš„ä»£ç è­¦å‘Šï¼Œè§£é‡Šå¹¶ä¿®å¤å®ƒä»¬
```

### 16.3 ä¸ Git å·¥ä½œæµé›†æˆ

#### Pre-commit Hook

```bash
# .git/hooks/pre-commit
#!/bin/bash
# ä½¿ç”¨ Claude æ£€æŸ¥æäº¤
git diff --cached | claude -p "å¿«é€Ÿæ£€æŸ¥è¿™äº›æ”¹åŠ¨æ˜¯å¦æœ‰æ˜æ˜¾é—®é¢˜" --model haiku
```

#### PR è‡ªåŠ¨å®¡æŸ¥

```yaml
# .github/workflows/claude-review.yml
name: Claude Code Review
on: [pull_request]
jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Review with Claude
        run: |
          gh pr diff ${{ github.event.pull_request.number }} | \
          claude -p "å®¡æŸ¥è¿™ä¸ª PR çš„ä»£ç æ”¹åŠ¨"
```

### 16.4 ä¸æµ‹è¯•æ¡†æ¶é›†æˆ

```bash
# æµ‹è¯•å¤±è´¥æ—¶è‡ªåŠ¨åˆ†æ
npm test 2>&1 | claude -p "åˆ†ææµ‹è¯•å¤±è´¥åŸå› å¹¶å»ºè®®ä¿®å¤æ–¹æ¡ˆ"

# TDD å·¥ä½œæµ
> ä¸º @src/utils/validator.ts ç¼–å†™æµ‹è¯•ï¼Œç„¶åè¿è¡Œæµ‹è¯•
> æµ‹è¯•å¤±è´¥äº†ï¼Œè¯·ä¿®å¤å®ç°ä»£ç 
> è¿è¡Œæµ‹è¯•ç¡®è®¤ä¿®å¤
```

### 16.5 ä¸æ„å»ºå·¥å…·é›†æˆ

```bash
# æ„å»ºé”™è¯¯åˆ†æ
npm run build 2>&1 | claude -p "åˆ†ææ„å»ºé”™è¯¯å¹¶ä¿®å¤"

# Webpack/Vite é…ç½®è°ƒæ•´
> åˆ†æ @vite.config.tsï¼Œä¼˜åŒ–æ„å»ºæ€§èƒ½
```

### 16.6 Docker ç¯å¢ƒ

```bash
# åœ¨ Docker å®¹å™¨ä¸­ä½¿ç”¨
docker run -it -v $(pwd):/app -w /app node:18 bash
# ç„¶åå®‰è£…å¹¶è¿è¡Œ claude

# æˆ–è€…åˆ›å»ºä¸“ç”¨å¼€å‘å®¹å™¨
# .devcontainer/devcontainer.json
{
  "postCreateCommand": "npm install -g @anthropic-ai/claude-code"
}
```

---

## åä¸ƒã€å›¢é˜Ÿåä½œæ¨¡å¼

### 17.1 å…±äº«é…ç½®ç®¡ç†

#### é¡¹ç›®çº§é…ç½®ï¼ˆæäº¤åˆ° Gitï¼‰

```
.claude/
â”œâ”€â”€ settings.json      # å›¢é˜Ÿå…±äº«çš„æƒé™å’Œ hooks
â”œâ”€â”€ commands/          # è‡ªå®šä¹‰å›¢é˜Ÿå‘½ä»¤
â”‚   â”œâ”€â”€ review.md
â”‚   â”œâ”€â”€ deploy.md
â”‚   â””â”€â”€ onboard.md
â””â”€â”€ rules/             # æ¨¡å—åŒ–ç¼–ç è§„èŒƒ
    â”œâ”€â”€ api.md
    â”œâ”€â”€ testing.md
    â””â”€â”€ security.md
```

#### ä¸ªäººé…ç½®ï¼ˆä¸æäº¤ï¼‰

```
.claude/settings.local.json   # ä¸ªäººæƒé™è¦†ç›–
CLAUDE.local.md               # ä¸ªäººç¬”è®°
```

### 17.2 æ–°æˆå‘˜å…¥èŒ

åˆ›å»ºå…¥èŒå‘½ä»¤ `.claude/commands/onboard.md`ï¼š

```markdown
---
description: æ–°æˆå‘˜å…¥èŒå¼•å¯¼
---

ä½œä¸ºæ–°æˆå‘˜å…¥èŒåŠ©æ‰‹ï¼Œè¯·ï¼š

1. æ¦‚è¿°è¿™ä¸ªé¡¹ç›®çš„ç›®çš„å’Œæ¶æ„
2. è§£é‡Šç›®å½•ç»“æ„å’Œå…³é”®æ–‡ä»¶
3. è¯´æ˜å¼€å‘å·¥ä½œæµç¨‹ï¼ˆåˆ†æ”¯ç­–ç•¥ã€PR æµç¨‹ï¼‰
4. ä»‹ç»ä¸»è¦çš„æŠ€æœ¯æ ˆå’Œçº¦å®š
5. åˆ—å‡ºå¸¸ç”¨å‘½ä»¤å’Œå¿«æ·æ“ä½œ
```

ä½¿ç”¨ï¼š
```bash
> /onboard
```

### 17.3 ä»£ç å®¡æŸ¥æ ‡å‡†åŒ–

åˆ›å»ºå®¡æŸ¥å‘½ä»¤ `.claude/commands/team-review.md`ï¼š

```markdown
---
argument-hint: [pr-number]
description: å›¢é˜Ÿæ ‡å‡†ä»£ç å®¡æŸ¥
---

å¯¹ PR #$1 è¿›è¡Œå›¢é˜Ÿæ ‡å‡†å®¡æŸ¥ï¼Œæ£€æŸ¥ï¼š

## åŠŸèƒ½æ­£ç¡®æ€§
- æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
- è¾¹ç•Œæƒ…å†µå¤„ç†

## ä»£ç è´¨é‡ï¼ˆå‚è€ƒ @.claude/rules/code-style.mdï¼‰
- å‘½åè§„èŒƒ
- å‡½æ•°é•¿åº¦
- å¤æ‚åº¦

## å®‰å…¨æ€§ï¼ˆå‚è€ƒ @.claude/rules/security.mdï¼‰
- è¾“å…¥éªŒè¯
- æ•æ„Ÿæ•°æ®å¤„ç†

## æµ‹è¯•è¦†ç›–
- å•å…ƒæµ‹è¯•
- é›†æˆæµ‹è¯•

## æ–‡æ¡£
- ä»£ç æ³¨é‡Š
- API æ–‡æ¡£æ›´æ–°

è¾“å‡ºæ ¼å¼ï¼šæŒ‰ä¼˜å…ˆçº§åˆ—å‡ºé—®é¢˜ï¼ˆP0 é˜»æ–­/P1 é‡è¦/P2 å»ºè®®ï¼‰
```

### 17.4 çŸ¥è¯†æ²‰æ·€

å°† Claude çš„å›ç­”æ²‰æ·€ä¸ºå›¢é˜ŸçŸ¥è¯†ï¼š

```bash
# å¯¼å‡ºæœ‰ä»·å€¼çš„å¯¹è¯
> /export docs/decisions/auth-architecture.md

# æ›´æ–°å›¢é˜Ÿæ–‡æ¡£
> å°†åˆšæ‰å…³äºè®¤è¯æ¶æ„çš„è®¨è®ºæ€»ç»“ï¼Œæ›´æ–°åˆ° @docs/ARCHITECTURE.md
```

### 17.5 MCP æœåŠ¡å™¨å›¢é˜Ÿå…±äº«

```bash
# æ·»åŠ å›¢é˜Ÿå…±äº«çš„ MCP æœåŠ¡å™¨
claude mcp add --scope project jira -- npx -y @anthropic/mcp-server-jira

# è¿™ä¼šåˆ›å»º .claude/mcp.jsonï¼Œæäº¤åˆ° Git åå›¢é˜Ÿæˆå‘˜è‡ªåŠ¨è·å¾—
```

---

## åå…«ã€äººæœºåä½œå¿ƒæ™ºæ¨¡å‹

### 18.1 æ­£ç¡®ç†è§£ Claude Code çš„è§’è‰²

**Claude Code æ˜¯ä»€ä¹ˆ**ï¼š
- âœ… å¼ºå¤§çš„ç»“å¯¹ç¼–ç¨‹ä¼™ä¼´
- âœ… çŸ¥è¯†æ¸Šåšçš„æŠ€æœ¯é¡¾é—®
- âœ… é«˜æ•ˆçš„ä»»åŠ¡æ‰§è¡Œè€…
- âœ… ä»£ç åº“çš„å¿«é€Ÿå¯¼èˆªå™¨

**Claude Code ä¸æ˜¯ä»€ä¹ˆ**ï¼š
- âŒ å®Œç¾æ— è¯¯çš„ç¥è°•
- âŒ æ›¿ä»£ä½ æ€è€ƒçš„å·¥å…·
- âŒ ä¸éœ€è¦å®¡æŸ¥çš„è‡ªåŠ¨åŒ–
- âŒ æ‰€æœ‰é—®é¢˜çš„ä¸‡èƒ½è§£

### 18.2 æœ€ä½³åä½œæ¨¡å¼

#### æ¨¡å¼ä¸€ï¼šæ¢ç´¢è€…ä¸å‘å¯¼

```
ä½ ï¼ˆæ¢ç´¢è€…ï¼‰ï¼šæˆ‘æƒ³äº†è§£è¿™ä¸ªé¡¹ç›®çš„è®¤è¯æœºåˆ¶
Claudeï¼ˆå‘å¯¼ï¼‰ï¼š[æœç´¢åˆ†æ] è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ JWT...æ¶æ„æ˜¯...

æœ€ä½³å®è·µï¼šç”¨äºç†è§£é™Œç”Ÿä»£ç åº“
```

#### æ¨¡å¼äºŒï¼šé©¾é©¶å‘˜ä¸å‰¯é©¾é©¶

```
ä½ ï¼ˆé©¾é©¶å‘˜ï¼‰ï¼šæ˜ç¡®çŸ¥é“è¦åšä»€ä¹ˆï¼Œéœ€è¦å¸®åŠ©æ‰§è¡Œ
Claudeï¼ˆå‰¯é©¾é©¶ï¼‰ï¼šå¸®ä½ å†™ä»£ç ã€è¿è¡Œå‘½ä»¤ã€æ£€æŸ¥ç»“æœ

æœ€ä½³å®è·µï¼šæ—¥å¸¸å¼€å‘ä»»åŠ¡
```

#### æ¨¡å¼ä¸‰ï¼šæ¶æ„å¸ˆä¸å®ç°è€…

```
ä½ ï¼ˆæ¶æ„å¸ˆï¼‰ï¼šè®¾è®¡é«˜å±‚æ–¹æ¡ˆï¼Œåšå…³é”®å†³ç­–
Claudeï¼ˆå®ç°è€…ï¼‰ï¼šå°†è®¾è®¡è½¬åŒ–ä¸ºä»£ç 

æœ€ä½³å®è·µï¼šæ–°åŠŸèƒ½å¼€å‘
```

#### æ¨¡å¼å››ï¼šå®¡æŸ¥è€…ä¸è¢«å®¡æŸ¥è€…

```
ä½ ï¼ˆå®¡æŸ¥è€…ï¼‰ï¼šæ£€æŸ¥ Claude çš„è¾“å‡º
Claudeï¼ˆè¢«å®¡æŸ¥è€…ï¼‰ï¼šæ‰§è¡Œåç­‰å¾…ä½ çš„åé¦ˆ

æœ€ä½³å®è·µï¼šå…³é”®ä»£ç ä¿®æ”¹
```

### 18.3 é«˜æ•ˆæé—®çš„è‰ºæœ¯

#### å±‚æ¬¡åŒ–æé—®

```bash
# ç¬¬ä¸€å±‚ï¼šç†è§£ï¼ˆä¸æ‰§è¡Œï¼‰
> explain the payment processing flow

# ç¬¬äºŒå±‚ï¼šè§„åˆ’ï¼ˆPlan Modeï¼‰
> how would you add refund functionality?

# ç¬¬ä¸‰å±‚ï¼šæ‰§è¡Œï¼ˆæœ‰äº†ç†è§£å’Œè§„åˆ’åï¼‰
> implement the refund feature as discussed
```

#### çº¦æŸé©±åŠ¨çš„æé—®

```bash
# æ·»åŠ æ˜ç¡®çº¦æŸ
> æ·»åŠ æ—¥å¿—åŠŸèƒ½ï¼Œè¦æ±‚ï¼š
>   - ä½¿ç”¨ç°æœ‰çš„ logger å®ä¾‹
>   - ä¸è¦å¼•å…¥æ–°ä¾èµ–
>   - æ€§èƒ½å½±å“æœ€å°åŒ–
>   - æ—¥å¿—æ ¼å¼ä¸ç°æœ‰ä¿æŒä¸€è‡´
```

#### è¿­ä»£å¼ç»†åŒ–

```bash
# ä»ç²—åˆ°ç»†
> æ¦‚è¿°è¿™ä¸ªæ¨¡å—çš„èŒè´£           # è·å¾—å…¨è²Œ
> è¯¦ç»†è§£é‡Š processOrder å‡½æ•°   # èšç„¦ç»†èŠ‚
> è¿™é‡Œçš„é”™è¯¯å¤„ç†æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ    # æ·±å…¥é—®é¢˜
> æŒ‰ç…§æœ€ä½³å®è·µä¿®å¤å®ƒ           # æ‰§è¡Œæ”¹è¿›
```

### 18.4 ä½•æ—¶ä¿¡ä»»ï¼Œä½•æ—¶éªŒè¯

| ä»»åŠ¡ç±»å‹ | ä¿¡ä»»ç¨‹åº¦ | éªŒè¯æ–¹å¼ |
|---------|---------|---------|
| ä»£ç è§£é‡Š | é«˜ | æŠ½æŸ¥æ ¸å¿ƒé€»è¾‘ |
| ç®€å•ä¿®æ”¹ | ä¸­é«˜ | å¿«é€Ÿå®¡é˜… diff |
| å¤æ‚é‡æ„ | ä¸­ | ä»”ç»†å®¡æŸ¥ + æµ‹è¯• |
| æ¶æ„å†³ç­– | ä½ | æ·±åº¦è¯„ä¼° + å›¢é˜Ÿè®¨è®º |
| å®‰å…¨ç›¸å…³ | æä½ | ä¸“ä¸šå®‰å…¨å®¡æŸ¥ |

### 18.5 åŸ¹å…»ç›´è§‰

**è¯†åˆ« Claude çš„"ä¸ç¡®å®š"ä¿¡å·**ï¼š
- "å¯èƒ½"ã€"ä¹Ÿè®¸"ã€"æˆ‘è®¤ä¸º" â†’ éœ€è¦éªŒè¯
- "é€šå¸¸"ã€"ä¸€èˆ¬æ¥è¯´" â†’ å¯èƒ½æœ‰ä¾‹å¤–
- è¿‡äºå†—é•¿çš„è§£é‡Š â†’ å¯èƒ½ä¸å¤ªç¡®å®š

**è¯†åˆ« Claude çš„"ç¡®å®š"ä¿¡å·**ï¼š
- ç›´æ¥ç»™å‡ºä»£ç æˆ–å‘½ä»¤
- å¼•ç”¨å…·ä½“çš„æ–‡ä»¶å’Œè¡Œå·
- ç®€æ´æ˜ç¡®çš„å›ç­”

### 18.6 é”™è¯¯æ¢å¤ç­–ç•¥

```bash
# Claude çŠ¯é”™æ—¶çš„åº”å¯¹

# 1. ä¸è¦ç”Ÿæ°”ï¼Œå†·é™æè¿°é—®é¢˜
> è¿™ä¸ªæ”¹åŠ¨ç ´åäº†ç°æœ‰åŠŸèƒ½ï¼Œé”™è¯¯ä¿¡æ¯æ˜¯ [xxx]

# 2. æä¾›æ›´å¤šä¸Šä¸‹æ–‡
> è¿™ä¸ªé¡¹ç›®æœ‰ä¸ªç‰¹æ®Šçº¦å®šï¼š[è¯´æ˜]

# 3. å¼•å¯¼æ­£ç¡®æ–¹å‘
> ä¸è¦ç”¨ approach Aï¼Œè¯•è¯• approach B

# 4. å¿…è¦æ—¶å›æ»šé‡æ¥
Esc + Esc  # æ’¤é”€æ”¹åŠ¨
> /clear    # æ¸…é™¤é”™è¯¯çš„ä¸Šä¸‹æ–‡
```

### 18.7 æ•ˆç‡æœ€å¤§åŒ–çš„æ—¥å¸¸å®è·µ

```bash
# æ—©æ™¨ï¼šå¿«é€Ÿä¸Šä¸‹æ–‡æ¢å¤
claude -c  # ç»§ç»­æ˜¨å¤©çš„ä¼šè¯
> æ€»ç»“ä¸€ä¸‹æ˜¨å¤©çš„è¿›åº¦å’Œä»Šå¤©çš„è®¡åˆ’

# å·¥ä½œä¸­ï¼šå–„ç”¨è®°å¿†
> # å‘ç° bugï¼šç”¨æˆ·å¤´åƒä¸Šä¼ åœ¨ Safari å¤±è´¥
> å…ˆè®°å½•ä¸‹æ¥ï¼Œç­‰ä¼šå¤„ç†

# ä»»åŠ¡åˆ‡æ¢ï¼šå‘½åä¼šè¯
> /rename feature-payment
# åˆ‡æ¢åˆ°å¦ä¸€ä¸ªä»»åŠ¡
> /clear
> /rename bugfix-safari

# ä¸‹ç­å‰ï¼šä¿å­˜ä¸Šä¸‹æ–‡
> æ€»ç»“ä»Šå¤©çš„æ”¹åŠ¨å’Œæ˜å¤©éœ€è¦ç»§ç»­çš„å·¥ä½œ
> /export ~/notes/$(date +%Y-%m-%d).md
```

---

## é™„å½•ï¼šå¿«æ·é”®å®Œæ•´åˆ—è¡¨

| å¿«æ·é”® | åŠŸèƒ½ | å¤‡æ³¨ |
|--------|------|------|
| `Ctrl+C` | å–æ¶ˆå½“å‰æ“ä½œ | |
| `Ctrl+D` | é€€å‡º Claude Code | |
| `Ctrl+L` | æ¸…å± | ä¿ç•™å¯¹è¯å†å² |
| `Ctrl+O` | åˆ‡æ¢è¯¦ç»†è¾“å‡º | æ˜¾ç¤ºå·¥å…·è°ƒç”¨ |
| `Ctrl+R` | æœç´¢å‘½ä»¤å†å² | |
| `Ctrl+V` / `Alt+V` | ç²˜è´´å›¾ç‰‡ | macOS / Windows |
| `Shift+Tab` | åˆ‡æ¢æƒé™æ¨¡å¼ | |
| `Option+Enter` | å¤šè¡Œè¾“å…¥ | macOS |
| `\` + `Enter` | å¤šè¡Œè¾“å…¥ | é€šç”¨ |
| `Esc + Esc` | æ’¤é”€ä»£ç æ”¹åŠ¨ | |
| `Option+P` / `Alt+P` | åˆ‡æ¢æ¨¡å‹ | |
| `Up/Down` | å¯¼èˆªå†å² | |

---

*æœ¬æŒ‡å—åŸºäº Claude Code å®˜æ–¹æ–‡æ¡£æ•´ç†ï¼Œæ›´å¤šä¿¡æ¯è¯·è®¿é—® [claude.com/claude-code](https://claude.com/claude-code)*
